<svg width="200.00" height="100.00" 
     viewBox="0.0 0.0 200.0 100.0" 
     viewPort="0 0 200px 100px" 
     version="1.1"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     xmlns="http://www.w3.org/2000/svg">
    
    <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="black" />
    </marker>
  </defs>
   <symbol id="fulladder">
        <rect x="30" y="20" width="26" height="26" style="fill:none;stroke:black;"/>
        <text x="35" y="35" font-size="12">FA</text>
        <!-- inputs -->
        <line x1="35" y1="10" x2="35" y2="20" style="fill:none;stroke:black;stroke-width:0.5px;"/>
        <line x1="50" y1="10" x2="50" y2="20" style="fill:none;stroke:black;stroke-width:0.5px;"/>
        <text x="37" y="14" font-size="4">a</text>
        <text x="52" y="14" font-size="4">b</text>
        <!--  sum -->    
        <line x1="35" y1="46" x2="35" y2="56" style="fill:none;stroke:black;stroke-width:0.5px;"  marker-end="url(#arrow)"/>
        <text x="36" y="56" font-size="4">s</text>
        <!--  p+g -->    
        <line x1="44" y1="46" x2="44" y2="60" style="fill:none;stroke:black;stroke-width:0.5px;"  marker-end="url(#arrow)"/>
        <line x1="50" y1="46" x2="50" y2="60" style="fill:none;stroke:black;stroke-width:0.5px;" marker-end="url(#arrow)"/>
        <!-- carry -->        
        <polyline points="64,65 64,33 61,33 " style="fill:none;stroke:black;stroke-width:0.5px;stroke-width:0.5px;" marker-end="url(#arrow)"/>
    </symbol>
    <symbol id="carry_lookahead">
        <rect x="20" y="55" width="150" height="18" style="fill:lightgrey;stroke:black;stroke-width:0.5px;"/>
        <text x="148" y="60" font-size="4">g
            <tspan baseline-shift = "sub">0</tspan>
        </text>
        <text x="142" y="60" font-size="4">p
             <tspan baseline-shift = "sub">0</tspan>
        </text>
        <text x="122" y="60" font-size="4">c
            <tspan baseline-shift = "sub">1</tspan>
        </text>
        <text x="108" y="60" font-size="4">g
            <tspan baseline-shift = "sub">1</tspan>
        </text>
        <text x="102" y="60" font-size="4">p
             <tspan baseline-shift = "sub">1</tspan>
        </text>
        <text x="80" y="60" font-size="4">c
            <tspan baseline-shift = "sub">2</tspan>
        </text>
        <text x="68" y="60" font-size="4">g
            <tspan baseline-shift = "sub">2</tspan>
        </text>
        <text x="62" y="60" font-size="4">p
             <tspan baseline-shift = "sub">2</tspan>
        </text>
        <text x="40" y="60" font-size="4">c
            <tspan baseline-shift = "sub">3</tspan>
        </text>
        <text x="28" y="60" font-size="4">g
            <tspan baseline-shift = "sub">3</tspan>
        </text>
        <text x="22" y="60" font-size="4">p
             <tspan baseline-shift = "sub">3</tspan>
        </text>
        <text x="55" y="70" font-size="5">4-bit carry-lookahead</text>
        <!-- pg + gg -->
        <line x1="150" y1="73" x2="150" y2="80" style="fill:none;stroke:black;stroke-width:0.5px;"  marker-end="url(#arrow)"/>
        <line x1="158" y1="73" x2="158" y2="80" style="fill:none;stroke:black;stroke-width:0.5px;" marker-end="url(#arrow)"/>
        <text x="148" y="70" font-size="4">PG</text>
        <text x="156" y="70" font-size="4">GG</text>
    </symbol>

    <use x="0" y="0" href="#fulladder"/>
    <use x="40" y="0" href="#fulladder"/>
    <use x="80" y="0" href="#fulladder"/>
    <use x="120" y="0" href="#fulladder"/>
    <use x="20" y="10" href="#carry_lookahead"/>
    <text x="39" y="15" font-size="3">3</text>
    <text x="54" y="15" font-size="3">3</text>
    <text x="38" y="57" font-size="3">3</text>
    <text x="79" y="15" font-size="3">2</text>
    <text x="94" y="15" font-size="3">2</text>
    <text x="78" y="57" font-size="3">2</text>
    <text x="119" y="15" font-size="3">1</text>
    <text x="134" y="15" font-size="3">1</text>
    <text x="118" y="57" font-size="3">1</text>
    <text x="159" y="15" font-size="3">0</text>
    <text x="174" y="15" font-size="3">0</text>
    <text x="158" y="57" font-size="3">0</text>
    <line x1="40" y1="75" x2="30" y2="75" style="fill:none;stroke:black;stroke-width:0.5px;" marker-end="url(#arrow)"/>
    <circle cx="184" cy="33" r="0.5" style="fill:none;stroke:black;stroke-width:0.5px;"/>
    <polyline points="190,33 184,33 184,60" style="fill:none;stroke:black;stroke-width:0.5px;stroke-width:0.5px;" marker-end="url(#arrow)"/>
    <text x="25" y="80" font-size="4">c
        <tspan baseline-shift = "sub">4</tspan>
    </text>
    <text x="182" y="30" font-size="4">c
        <tspan baseline-shift = "sub">0</tspan>
    </text>

</svg>
